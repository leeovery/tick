AGENT: duplication
FINDINGS:
- FINDING: Parallel descendant expansion and ID validation in computeBlastRadius vs Mutate callback
  SEVERITY: high
  FILES: internal/cli/remove.go:64-112, internal/cli/remove.go:173-193
  DESCRIPTION: computeBlastRadius (called for the confirmation prompt) and the Mutate callback in RunRemove both independently (1) validate all IDs exist with all-or-nothing semantics, (2) build an initial removeSet from explicit targets, and (3) expand that set to include transitive descendants. The blast radius function does this via SQL queries with an iterative fixed-point loop; the Mutate callback does it via the in-memory task slice using collectDescendants. These are two implementations of the same three-step algorithm operating on different data sources. The "task '%s' not found" error string is also duplicated on lines 68 and 182. When --force is used, the Mutate path runs alone; without --force, both paths run in sequence, doubling the work. Any change to validation or cascade logic must be kept in sync across both paths.
  RECOMMENDATION: Extract the validation-and-expand logic so the Mutate callback can trust the pre-computed blast radius instead of recomputing it. One approach: when the blast radius has already been computed (non-force path), pass the pre-validated removeSet into the Mutate callback so it skips its own validation and descendant expansion. The Mutate callback then only needs to do the ID-exists check for the force path (where computeBlastRadius was skipped). Alternatively, always run computeBlastRadius and thread its expanded removeSet to Mutate, removing the duplicated validation and expansion code from the callback entirely.
- FINDING: Structurally identical RemovedTask and idTitle types
  SEVERITY: medium
  FILES: internal/cli/format.go:116-119, internal/cli/remove.go:51-54
  DESCRIPTION: RemovedTask (exported, in format.go) and idTitle (unexported, in remove.go) both represent an ID+title pair. They have identical structure, differing only in field casing (exported vs unexported) and naming. idTitle is used in blastRadius for the confirmation prompt; RemovedTask is used in RemovalResult for formatter output. This is a classic case of two independently written types for the same concept.
  RECOMMENDATION: Consolidate to a single type. The simplest approach is to reuse RemovedTask for the blastRadius fields (targetTasks, cascadedTasks, affectedDeps), since it already has exported ID and Title fields. This eliminates idTitle entirely. If the unexported fields on blastRadius need to stay unexported, the struct can still hold exported-type values internally.
SUMMARY: The primary duplication is between the two code paths in remove.go that both validate IDs and compute descendant sets -- computeBlastRadius via SQL and the Mutate callback via in-memory slice. Consolidating these would eliminate ~30 lines of parallel logic and ensure cascade/validation behavior cannot drift between the confirmation and mutation paths. A secondary finding is the near-identical RemovedTask and idTitle types.
